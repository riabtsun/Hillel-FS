console.log('#20. TypeScript homework example file');

/*
 * #1
 *
 * –ó–∞–¥–∞—á–∞: –†–æ–∑—Ä–æ–±–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `createPerson`, —è–∫–∞ —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç –æ—Å–æ–±–∏ –∑ –∑–∞–¥–∞–Ω–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏.
 *
 * –ú–µ—Ç–∞: –°—Ç–≤–æ—Ä–∏—Ç–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –¥–æ–∑–≤–æ–ª—è—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –æ—Å–æ–±–∏ –∑ –ø–µ–≤–Ω–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É –ø—Ä–æ–≥—Ä–∞–º—ñ.
 *
 * –í–∏–º–æ–≥–∏ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
 * 1. –§—É–Ω–∫—Ü—ñ—è –º–∞—î –ø—Ä–∏–π–º–∞—Ç–∏ —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏: `name` (—Ä—è–¥–æ–∫), `age` (—á–∏—Å–ª–æ), `isActive` (–±—É–ª–µ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è) —ñ —è–≤–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –æ–±'—î–∫—Ç, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `PersonInterface`.
 * 2. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `PersonInterface` –º–∞—î –æ–ø–∏—Å—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±'—î–∫—Ç–∞ –æ—Å–æ–±–∏ –∑ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏ `name`, `age`, —ñ `isActive`.
 * 3. –§—É–Ω–∫—Ü—ñ—è –º–∞—î –∑–∞–±–µ–∑–ø–µ—á—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –∑ –∫–æ—Ä–µ–∫—Ç–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ `PersonInterface`.
 * 4. –¢–∏–ø –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –º–∞—î –±—É—Ç–∏ —è–≤–Ω–æ –≤–∫–∞–∑–∞–Ω–∏–π —è–∫ `PersonInterface`, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç–æ–≥–æ –æ–±'—î–∫—Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
 *
 */

interface PersonInterface {
  name: string;
  age: number;
  isActive: boolean;
}

function createPerson(
  name: string,
  age: number,
  isActive: boolean
): PersonInterface {
  return {
    name,
    age,
    isActive,
  };
}

const newPerson = createPerson('–û–ª–µ–∫—Å–∞–Ω–¥—Ä', 31, false);
console.log(newPerson);

/*
 * #1
 *
 * –ó–∞–¥–∞—á–∞: –†–æ–∑—Ä–æ–±–∏—Ç–∏ –∫–ª–∞—Å `Calculator` –∑ –º–µ—Ç–æ–¥–∞–º–∏ `add` —ñ `multiply`, —è–∫—ñ –±—É–¥—É—Ç—å –ª–æ–≥—É–≤–∞—Ç–∏ –≤–∏–∫–ª–∏–∫–∏ —Ü–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ `LogMethodCalls`.
 *
 * –ú–µ—Ç–∞: –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–ª–∞—Å, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤—ñ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (–¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –º–Ω–æ–∂–µ–Ω–Ω—è) —Ç–∞ –ª–æ–≥—É—î –¥–µ—Ç–∞–ª—ñ —ó—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –∞–±–æ –¥–µ–±–∞–≥—ñ–Ω–≥—É.
 *
 * –í–∏–º–æ–≥–∏ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
 * 1. –ö–ª–∞—Å `Calculator` –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –º–µ—Ç–æ–¥ `add`, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –¥–≤–∞ —á–∏—Å–ª–∞ —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —ó—Ö —Å—É–º—É.
 * 2. –ö–ª–∞—Å `Calculator` –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –º–µ—Ç–æ–¥ `multiply`, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –¥–≤–∞ —á–∏—Å–ª–∞ —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ó—Ö –º–Ω–æ–∂–µ–Ω–Ω—è.
 * 3. –û–±–∏–¥–≤–∞ –º–µ—Ç–æ–¥–∏ (`add` —ñ `multiply`) –º–∞—é—Ç—å –±—É—Ç–∏ –æ–∑–¥–æ–±–ª–µ–Ω—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `LogMethodCalls`. –¶–µ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–∞—î –ª–æ–≥—É–≤–∞—Ç–∏ —ñ–º'—è –≤–∏–∫–ª–∏–∫–∞–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É —Ç–∞ –ø–µ—Ä–µ–¥–∞–Ω—ñ –π–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç–∏.
 * 4. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `LogMethodCalls` –º–∞—î –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ç–∞–∫, —â–æ–± –≤—ñ–Ω –º—ñ–≥ –±—É—Ç–∏ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–∏–π –¥–æ –±—É–¥—å-—è–∫–æ–≥–æ –º–µ—Ç–æ–¥—É –∫–ª–∞—Å—É. –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É, –æ–∑–¥–æ–±–ª–µ–Ω–æ–≥–æ —Ü–∏–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º, –º–∞—î –≤–∏–≤–æ–¥–∏—Ç–∏—Å—å –ª–æ–≥ —É —Ñ–æ—Ä–º–∞—Ç—ñ: `Calling "<—ñ–º'—è_–º–µ—Ç–æ–¥—É>" with arguments: <–∞—Ä–≥—É–º–µ–Ω—Ç–∏_–º–µ—Ç–æ–¥—É>`.
 * 5. –í—Å—ñ –≤–∏–≤–æ–¥–∏ –ª–æ–≥—ñ–≤ –º–∞—é—Ç—å –∑–¥—ñ–π—Å–Ω—é–≤–∞—Ç–∏—Å—å —á–µ—Ä–µ–∑ `console.log`.
 *
 */

/**
–í –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∑–∞–≥–∞–ª—ñ –Ω–µ –≤–ø–µ–≤–Ω–µ–Ω–∏–π üòÖ
 */
function LogMethodCalls(
  _target: any,
  propertyName: string,
  propertyDescriptor: PropertyDescriptor
): PropertyDescriptor | void {
  const originalMethod = propertyDescriptor.value;
  console.log(
    `Calling "${propertyName}" with arguments: "${JSON.stringify(arguments)}"`
  );

  propertyDescriptor.value = function (...args: any[]) {
    if (!args.length) {
      throw new Error('Method should be called with arguments');
    } else {
      return originalMethod.apply(this, args);
    }
  };
}

class Calculator {
  constructor(
    public num1: number = 0,
    public num2: number = 0
  ) {}
  @LogMethodCalls
  add(a: number, b: number): number {
    this.num1 = a;
    this.num2 = b;
    return this.num1 + this.num2;
  }
  @LogMethodCalls
  multiply(a: number, b: number): number {
    this.num1 = a;
    this.num2 = b;
    return this.num1 * this.num2;
  }
}
const calculator = new Calculator();
// "Calling "add" with arguments: 2, 3"
console.log(calculator.add(2, 3)); // 5
// "Calling "multiply" with arguments: 3, 4"
console.log(calculator.multiply(3, 4)); // 12

/*
 * #3
 *
 * –ó–∞–¥–∞—á–∞: –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ –ø—Ä–æ—Å—Ç–æ—Ä—ñ —ñ–º–µ–Ω UserProfile.
 *
 * –ú–µ—Ç–∞: –ù–∞–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç –ø—Ä–æ—Ñ—ñ–ª—é –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º, —ñ–º'—è–º —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—é –ø–æ—à—Ç–æ—é.
 *
 * –í–∏–º–æ–≥–∏ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
 * 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ namespace `UserProfile`, —â–æ —Å–ª—É–≥—É–≤–∞—Ç–∏–º–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –ø—Ä–æ—Ñ—ñ–ª—é —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–π.
 * 2. –í–∏–∑–Ω–∞—á–∏—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `UserProfile` —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ProfileInterface`, —è–∫–∏–π –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ `id` (string), `name` (string) —Ç–∞ `email` (string).
 * 3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `createProfile` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `UserProfile`, —è–∫–∞ –ø—Ä–∏–π–º–∞—î `name` —Ç–∞ `email`, —Å—Ç–≤–æ—Ä—é—î —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç `ProfileInterface` –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º `id`, –≤–∫–∞–∑–∞–Ω–∏–º —ñ–º'—è–º —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—é –ø–æ—à—Ç–æ—é.
 * 4. –§—É–Ω–∫—Ü—ñ—è `generateId` –º–∞—î –±—É—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—é –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `UserProfile` —ñ —Å–ª—É–≥—É–≤–∞—Ç–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é.
 *
 */

namespace UserProfile {
  export interface ProfileInterface {
    id: string;
    name: string;
    email: string;
  }

  export function createProfile(name: string, email: string): ProfileInterface {
    return { id: generateId(), name, email };
  }

  function generateId(): string {
    return (Math.random() * 1e8).toString(16);
  }
}

// const profile = UserProfile.createProfile('John Doe', 'john@example.com')
// console.log(profile) // { "id": "e6uvai5egqd", "name": "John Doe", "email": "john@example.com" }

export { createPerson, Calculator, UserProfile };
